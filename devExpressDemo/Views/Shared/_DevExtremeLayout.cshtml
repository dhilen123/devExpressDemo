<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>devExpressDemo</title>
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />

    @* Uncomment to use the HtmlEditor control *@
    @* <script src="https://unpkg.com/devextreme-quill@23_2/dist/dx-quill.min.js"></script> *@

    @* Uncomment to use the Gantt control *@
    @*<link href="~/css/devextreme/dx-gantt.css" rel="stylesheet" />*@

    @* Uncomment to use the Diagram control *@
    @*<link href="~/css/devextreme/dx-diagram.css" rel="stylesheet" />*@
    <link href="~/css/site.css" rel="stylesheet" />
    <link href="~/css/devextreme/bootstrap.css" rel="stylesheet" />

    @* Predefined themes: https://js.devexpress.com/DevExtreme/Guide/Themes_and_Styles/Predefined_Themes/ *@
    @* <link id="themeStylesheet" href="~/css/devextreme/dx.light.css" rel="stylesheet"> *@
   
    <link id="themeStylesheet" href="~/css/devextreme/dx.material.blue.light.css" rel="stylesheet" />
    @* <link href="~/css/devextreme/dx.material.blue.dark.css" rel="stylesheet" /> *@


    @* Uncomment to use the Gantt control *@
    @*<script src="~/js/devextreme/dx-gantt.js"></script>*@

    @* Uncomment to use the Diagram control *@
    @*<script src="~/js/devextreme/dx-diagram.js"></script>*@

    <script src="~/js/devextreme/jquery.js"></script>
    <script src="~/js/devextreme/bootstrap.js"></script>

    @* Uncomment to use Globalize for localization *@
    @* Docs: https://docs.devexpress.com/AspNetCore/400577#globalize *@
    @*<script src="~/js/devextreme/cldr.js"></script>*@
    @*<script src="~/js/devextreme/cldr/event.js"></script>*@
    @*<script src="~/js/devextreme/cldr/supplemental.js"></script>*@
    @*<script src="~/js/devextreme/cldr/unresolved.js"></script>*@
    @*<script src="~/js/devextreme/globalize.js"></script>*@
    @*<script src="~/js/devextreme/globalize/message.js"></script>*@
    @*<script src="~/js/devextreme/globalize/number.js"></script>*@
    @*<script src="~/js/devextreme/globalize/currency.js"></script>*@
    @*<script src="~/js/devextreme/globalize/date.js"></script>*@

    @* Uncomment to enable client-side export *@
    @*<script src="~/js/devextreme/jszip.js"></script>*@

    <script src="~/js/devextreme/dx.all.js"></script>

    @* Uncomment to provide geo-data for the VectorMap control *@
    @* Docs: https://js.devexpress.com/DevExtreme/Guide/Widgets/VectorMap/Providing_Data/#Data_for_Areas *@
    @*<script src="~/js/devextreme/vectormap-data/world.js"></script>*@

    <script src="~/js/devextreme/aspnet/dx.aspnet.mvc.js"></script>
    <script src="~/js/devextreme/aspnet/dx.aspnet.data.js"></script>
</head>

<body style="padding-top: 3.5rem;">

    <nav class="navbar navbar-dark bg-dark fixed-top navbar-expand-md">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">devExpressDemo</a>

            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div id="navbar" class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a href="#" class="nav-link active">Home</a></li>
                    <li class="nav-item"><a href="#about" class="nav-link">About</a></li>
                    <li class="nav-item"><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </div>
            <div class="text-end text-white me-3">
                <label class="ui-switch">
                    <input type="checkbox" id="themeToggle">
                    <div class="slider">
                        <div class="circle"></div>
                    </div>
                </label>
            </div>
        </div>
    </nav>

    <main class="container" style="margin-top: 1.5rem;">
        @RenderBody()
    </main>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            const themeToggle = document.getElementById('themeToggle');
            const themeStylesheet = document.getElementById('themeStylesheet');

            function applyBackgroundColor(color) {
                document.body.style.backgroundColor = color;
            }

            
            const savedTheme = localStorage.getItem('theme');
            const savedBackColor = localStorage.getItem('backcolor');

            if (savedTheme) {
                themeStylesheet.href = savedTheme;
                applyBackgroundColor(savedBackColor || 'white'); 
                themeToggle.checked = savedTheme.includes('dark');
            }

            themeToggle.addEventListener('change', function () {
                if (this.checked) {
                    themeStylesheet.href = 'css/devextreme/dx.material.blue.dark.css';
                    localStorage.setItem('theme', 'css/devextreme/dx.material.blue.dark.css');
                    localStorage.setItem('backcolor', '#313131');
                    applyBackgroundColor('#313131');
                } else {
                    themeStylesheet.href = 'css/devextreme/dx.material.blue.light.css';
                    localStorage.setItem('theme', 'css/devextreme/dx.material.blue.light.css');
                    localStorage.setItem('backcolor', 'white');
                    applyBackgroundColor('white');
                }
            });
        });
    </script>

</body>

</html>